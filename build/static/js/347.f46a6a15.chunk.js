"use strict";(self.webpackChunkmantis_react_ts=self.webpackChunkmantis_react_ts||[]).push([[347],{40875:function(r,e,n){var s=n(47313);e.Z=function(){var r=(0,s.useRef)(!0);return(0,s.useEffect)((function(){return function(){r.current=!1}}),[]),r}},36347:function(r,e,n){n.r(e),n.d(e,{default:function(){return W}});var s=n(82937),o=n(62463),t=n(42669),a=n(96386),i=n(15861),l=n(29439),c=n(64687),d=n.n(c),u=n(47313),m=n(58467),f=n(56352),p=n(29266),h=n(35553),x=n(59017),Z=n(48569),v=n(40686),w=n(16157),b=n(73477),g=n(3463),j=n(79429),P=n(1229),k=n(40875),S=n(6977),y=n(63946),E=n(82050),R=n(1129),q=n(16067),z=n(57459),C=n(46417),F=function(){var r=(0,k.Z)(),e=(0,f.I0)(),n=(0,m.s0)(),a=(0,P.Z)().isLoggedIn,c=(0,u.useState)(),F=(0,l.Z)(c,2),W=F[0],I=F[1],L=(0,u.useState)(!1),M=(0,l.Z)(L,2),N=M[0],A=M[1],O=function(){A(!N)},_=function(r){r.preventDefault()},B=function(r){var e=(0,E.X)(r);I((0,E.V)(e))};return(0,u.useEffect)((function(){B("")}),[]),(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(j.J9,{initialValues:{password:"",confirmPassword:"",submit:null},validationSchema:g.Ry().shape({password:g.Z_().max(255).required("Password is required"),confirmPassword:g.Z_().required("Confirm Password is required").when("password",{is:function(r){return!!(r&&r.length>0)},then:g.Z_().oneOf([g.iH("password")],"Both Password must be match!")})}),onSubmit:function(){var s=(0,i.Z)(d().mark((function s(o,t){var i,l,c;return d().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:i=t.setErrors,l=t.setStatus,c=t.setSubmitting;try{r.current&&(l({success:!0}),c(!1),e((0,R.ss)({open:!0,message:"Successfuly reset password.",variant:"alert",alert:{color:"success"},close:!1})),setTimeout((function(){n(a?"/auth/login":"/login",{replace:!0})}),1500))}catch(o){console.error(o),r.current&&(l({success:!1}),i({submit:o.message}),c(!1))}case 2:case"end":return s.stop()}}),s)})));return function(r,e){return s.apply(this,arguments)}}(),children:function(r){var e=r.errors,n=r.handleBlur,a=r.handleChange,i=r.handleSubmit,l=r.isSubmitting,c=r.touched,d=r.values;return(0,C.jsx)("form",{noValidate:!0,onSubmit:i,children:(0,C.jsxs)(s.ZP,{container:!0,spacing:3,children:[(0,C.jsxs)(s.ZP,{item:!0,xs:12,children:[(0,C.jsxs)(o.Z,{spacing:1,children:[(0,C.jsx)(p.Z,{htmlFor:"password-reset",children:"Password"}),(0,C.jsx)(h.Z,{fullWidth:!0,error:Boolean(c.password&&e.password),id:"password-reset",type:N?"text":"password",value:d.password,name:"password",onBlur:n,onChange:function(r){a(r),B(r.target.value)},endAdornment:(0,C.jsx)(x.Z,{position:"end",children:(0,C.jsx)(S.Z,{"aria-label":"toggle password visibility",onClick:O,onMouseDown:_,edge:"end",color:"secondary",children:N?(0,C.jsx)(q.Z,{}):(0,C.jsx)(z.Z,{})})}),placeholder:"Enter password"}),c.password&&e.password&&(0,C.jsx)(Z.Z,{error:!0,id:"helper-text-password-reset",children:e.password})]}),(0,C.jsx)(v.Z,{fullWidth:!0,sx:{mt:2},children:(0,C.jsxs)(s.ZP,{container:!0,spacing:2,alignItems:"center",children:[(0,C.jsx)(s.ZP,{item:!0,children:(0,C.jsx)(w.Z,{sx:{bgcolor:null===W||void 0===W?void 0:W.color,width:85,height:8,borderRadius:"7px"}})}),(0,C.jsx)(s.ZP,{item:!0,children:(0,C.jsx)(t.Z,{variant:"subtitle1",fontSize:"0.75rem",children:null===W||void 0===W?void 0:W.label})})]})})]}),(0,C.jsx)(s.ZP,{item:!0,xs:12,children:(0,C.jsxs)(o.Z,{spacing:1,children:[(0,C.jsx)(p.Z,{htmlFor:"confirm-password-reset",children:"Confirm Password"}),(0,C.jsx)(h.Z,{fullWidth:!0,error:Boolean(c.confirmPassword&&e.confirmPassword),id:"confirm-password-reset",type:"password",value:d.confirmPassword,name:"confirmPassword",onBlur:n,onChange:a,placeholder:"Enter confirm password"}),c.confirmPassword&&e.confirmPassword&&(0,C.jsx)(Z.Z,{error:!0,id:"helper-text-confirm-password-reset",children:e.confirmPassword})]})}),e.submit&&(0,C.jsx)(s.ZP,{item:!0,xs:12,children:(0,C.jsx)(Z.Z,{error:!0,children:e.submit})}),(0,C.jsx)(s.ZP,{item:!0,xs:12,children:(0,C.jsx)(y.Z,{children:(0,C.jsx)(b.Z,{disableElevation:!0,disabled:l,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"primary",children:"Reset Password"})})})]})})}})})},W=function(){return(0,C.jsx)(a.Z,{children:(0,C.jsxs)(s.ZP,{container:!0,spacing:3,children:[(0,C.jsx)(s.ZP,{item:!0,xs:12,children:(0,C.jsxs)(o.Z,{sx:{mb:{xs:-.5,sm:.5}},spacing:1,children:[(0,C.jsx)(t.Z,{variant:"h3",children:"Reset Password"}),(0,C.jsx)(t.Z,{color:"secondary",children:"Please choose your new password"})]})}),(0,C.jsx)(s.ZP,{item:!0,xs:12,children:(0,C.jsx)(F,{})})]})})}},82050:function(r,e,n){n.d(e,{V:function(){return s},X:function(){return o}});var s=function(r){return r<2?{label:"Poor",color:"error.main"}:r<3?{label:"Weak",color:"warning.main"}:r<4?{label:"Normal",color:"warning.dark"}:r<5?{label:"Good",color:"success.main"}:r<6?{label:"Strong",color:"success.dark"}:{label:"Poor",color:"error.main"}},o=function(r){var e=0;return r.length>5&&(e+=1),r.length>7&&(e+=1),function(r){return new RegExp(/[0-9]/).test(r)}(r)&&(e+=1),function(r){return new RegExp(/[!#@$%^&*)(+=._-]/).test(r)}(r)&&(e+=1),function(r){return new RegExp(/[a-z]/).test(r)&&new RegExp(/[A-Z]/).test(r)}(r)&&(e+=1),e}},57459:function(r,e,n){var s=n(1413),o=n(47313),t=n(56997),a=n(90393),i=function(r,e){return o.createElement(a.Z,(0,s.Z)((0,s.Z)({},r),{},{ref:e,icon:t.Z}))};i.displayName="EyeInvisibleOutlined",e.Z=o.forwardRef(i)},16067:function(r,e,n){var s=n(1413),o=n(47313),t=n(18822),a=n(90393),i=function(r,e){return o.createElement(a.Z,(0,s.Z)((0,s.Z)({},r),{},{ref:e,icon:t.Z}))};i.displayName="EyeOutlined",e.Z=o.forwardRef(i)},29266:function(r,e,n){n.d(e,{Z:function(){return y}});var s=n(4942),o=n(63366),t=n(87462),a=n(47313),i=n(21921),l=n(83061),c=n(67223),d=n(11736),u=n(28170),m=n(11236),f=n(64164),p=n(32298),h=n(77430);function x(r){return(0,p.Z)("MuiFormLabel",r)}var Z=(0,h.Z)("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),v=n(46417),w=["children","className","color","component","disabled","error","filled","focused","required"],b=(0,f.ZP)("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:function(r,e){var n=r.ownerState;return(0,t.Z)({},e.root,"secondary"===n.color&&e.colorSecondary,n.filled&&e.filled)}})((function(r){var e,n=r.theme,o=r.ownerState;return(0,t.Z)({color:(n.vars||n).palette.text.secondary},n.typography.body1,(e={lineHeight:"1.4375em",padding:0,position:"relative"},(0,s.Z)(e,"&.".concat(Z.focused),{color:(n.vars||n).palette[o.color].main}),(0,s.Z)(e,"&.".concat(Z.disabled),{color:(n.vars||n).palette.text.disabled}),(0,s.Z)(e,"&.".concat(Z.error),{color:(n.vars||n).palette.error.main}),e))})),g=(0,f.ZP)("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:function(r,e){return e.asterisk}})((function(r){var e=r.theme;return(0,s.Z)({},"&.".concat(Z.error),{color:(e.vars||e).palette.error.main})})),j=a.forwardRef((function(r,e){var n=(0,m.Z)({props:r,name:"MuiFormLabel"}),s=n.children,a=n.className,f=n.component,p=void 0===f?"label":f,h=(0,o.Z)(n,w),Z=(0,d.Z)(),j=(0,c.Z)({props:n,muiFormControl:Z,states:["color","required","focused","disabled","error","filled"]}),P=(0,t.Z)({},n,{color:j.color||"primary",component:p,disabled:j.disabled,error:j.error,filled:j.filled,focused:j.focused,required:j.required}),k=function(r){var e=r.classes,n=r.color,s=r.focused,o=r.disabled,t=r.error,a=r.filled,l=r.required,c={root:["root","color".concat((0,u.Z)(n)),o&&"disabled",t&&"error",a&&"filled",s&&"focused",l&&"required"],asterisk:["asterisk",t&&"error"]};return(0,i.Z)(c,x,e)}(P);return(0,v.jsxs)(b,(0,t.Z)({as:p,ownerState:P,className:(0,l.Z)(k.root,a),ref:e},h,{children:[s,j.required&&(0,v.jsxs)(g,{ownerState:P,"aria-hidden":!0,className:k.asterisk,children:["\u2009","*"]})]}))}));function P(r){return(0,p.Z)("MuiInputLabel",r)}(0,h.Z)("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);var k=["disableAnimation","margin","shrink","variant","className"],S=(0,f.ZP)(j,{shouldForwardProp:function(r){return(0,f.FO)(r)||"classes"===r},name:"MuiInputLabel",slot:"Root",overridesResolver:function(r,e){var n=r.ownerState;return[(0,s.Z)({},"& .".concat(Z.asterisk),e.asterisk),e.root,n.formControl&&e.formControl,"small"===n.size&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,e[n.variant]]}})((function(r){var e=r.theme,n=r.ownerState;return(0,t.Z)({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},n.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===n.size&&{transform:"translate(0, 17px) scale(1)"},n.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!n.disableAnimation&&{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},"filled"===n.variant&&(0,t.Z)({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(12px, 13px) scale(1)"},n.shrink&&(0,t.Z)({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===n.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===n.variant&&(0,t.Z)({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(14px, 9px) scale(1)"},n.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 24px)",transform:"translate(14px, -9px) scale(0.75)"}))})),y=a.forwardRef((function(r,e){var n=(0,m.Z)({name:"MuiInputLabel",props:r}),s=n.disableAnimation,a=void 0!==s&&s,u=n.shrink,f=n.className,p=(0,o.Z)(n,k),h=(0,d.Z)(),x=u;"undefined"===typeof x&&h&&(x=h.filled||h.focused||h.adornedStart);var Z=(0,c.Z)({props:n,muiFormControl:h,states:["size","variant","required"]}),w=(0,t.Z)({},n,{disableAnimation:a,formControl:h,shrink:x,size:Z.size,variant:Z.variant,required:Z.required}),b=function(r){var e=r.classes,n=r.formControl,s=r.size,o=r.shrink,a={root:["root",n&&"formControl",!r.disableAnimation&&"animated",o&&"shrink","small"===s&&"sizeSmall",r.variant],asterisk:[r.required&&"asterisk"]},l=(0,i.Z)(a,P,e);return(0,t.Z)({},e,l)}(w);return(0,v.jsx)(S,(0,t.Z)({"data-shrink":x,ownerState:w,ref:e,className:(0,l.Z)(b.root,f)},p,{classes:b}))}))}}]);